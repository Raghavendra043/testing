{"ast":null,"code":"import { ApplicationRef } from \"@angular/core\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ngx-translate/core\";\nimport * as i3 from \"src/app/services/native-services/native.service\";\nimport * as i4 from \"src/app/services/state-services/state-passing.service\";\nimport * as i5 from \"@services/state-services/config.service\";\nimport * as i6 from \"@services/rest-api-services/authentication.service\";\nimport * as i7 from \"@angular/common\";\nconst _c0 = function (a0) {\n  return {\n    clickable: a0\n  };\n};\nfunction HeaderComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"img\", 3);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_div_0_Template_img_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.clickLogo());\n    });\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", i0.ɵɵpipeBind1(2, 2, \"LOGO_ARIA\"));\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx_r0.canClickLogo()));\n  }\n}\nfunction HeaderComponent_nav_1_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_nav_1_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.goBack());\n    });\n    i0.ɵɵelement(1, \"i\", 14);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_nav_1_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_nav_1_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.goChangePassword());\n    });\n    i0.ɵɵelement(1, \"i\", 16);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_nav_1_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_nav_1_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.goHome());\n    });\n    i0.ɵɵelement(1, \"i\", 18);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_nav_1_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_nav_1_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.goLogout());\n    });\n    i0.ɵɵelement(1, \"i\", 20);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_nav_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nav\", 4)(1, \"div\", 5);\n    i0.ɵɵtemplate(2, HeaderComponent_nav_1_button_2_Template, 2, 0, \"button\", 6);\n    i0.ɵɵtemplate(3, HeaderComponent_nav_1_button_3_Template, 2, 0, \"button\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 8);\n    i0.ɵɵelement(5, \"h1\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵtemplate(7, HeaderComponent_nav_1_button_7_Template, 2, 0, \"button\", 11);\n    i0.ɵɵtemplate(8, HeaderComponent_nav_1_button_8_Template, 2, 0, \"button\", 12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showBackBtn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showChangePasswordBtn);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.title, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showHomeBtn);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showLogoutBtn);\n  }\n}\nexport let HeaderComponent = /*#__PURE__*/(() => {\n  class HeaderComponent {\n    constructor(applicationRef, router, translate, native, appContext, config, authentication // Is not unused. Used to go back as a clinician\n    ) {\n      this.applicationRef = applicationRef;\n      this.router = router;\n      this.translate = translate;\n      this.native = native;\n      this.appContext = appContext;\n      this.config = config;\n      this.authentication = authentication;\n      this.showBackBtn = false;\n      this.showHomeBtn = false;\n      this.onHomeFun = () => this.router.navigate([\"/menu\"]);\n      this.isClinician = false;\n      this.title = \"\";\n      this.showChangePasswordBtn = false;\n      this.showLogoutBtn = false;\n      this.showLogo = false;\n      this.goBack = () => {\n        if (this.onBackFun) {\n          this.onBackFun();\n        } else {\n          globalThis.history.back();\n        }\n      };\n      this.goLogout = () => {\n        const confirmText = this.translate.instant(\"LOGOUT_CONFIRM_MSG\");\n        const okButtonText = this.translate.instant(\"OK\");\n        const cancelButtonText = this.translate.instant(\"CANCEL\");\n        this.native.showConfirmDialog(confirmText, okButtonText, cancelButtonText, okClicked => {\n          if (!okClicked) {\n            return;\n          } else {\n            this.router.navigate([\"/logout\"]);\n            setTimeout(() => this.applicationRef.tick(), 100);\n          }\n        });\n      };\n      this.goChangePassword = () => {\n        this.router.navigate([\"/change_password\"]);\n      };\n    }\n    ngOnChanges() {\n      this.title = this.title ? this.translate.instant(this.title) : \"\";\n    }\n    canClickLogo() {\n      return this.helpAndInfoUrl() ? true : false;\n    }\n    helpAndInfoUrl() {\n      const appConfig = this.config.getAppConfig();\n      return appConfig.helpAndInfoUrl;\n    }\n    clickLogo() {\n      const helpUrl = this.helpAndInfoUrl();\n      if (this.canClickLogo() && helpUrl !== undefined) {\n        this.native.openUrl(helpUrl);\n      }\n    }\n    goHome() {\n      if (this.onHomeFun) {\n        this.onHomeFun();\n      } else {\n        this.router.navigate([\"/menu\"]);\n      }\n    }\n    goClinicianMenu() {\n      this.appContext.requestParams.getAndClear(\"selectedPatient\");\n      this.router.navigate([\"/clinician_menu\"]);\n    }\n  }\n  HeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n    return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i0.ApplicationRef), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TranslateService), i0.ɵɵdirectiveInject(i3.NativeService), i0.ɵɵdirectiveInject(i4.StatePassingService), i0.ɵɵdirectiveInject(i5.ConfigService), i0.ɵɵdirectiveInject(i6.AuthenticationService));\n  };\n  HeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HeaderComponent,\n    selectors: [[\"header-menu\"]],\n    inputs: {\n      showBackBtn: \"showBackBtn\",\n      onBackFun: \"onBackFun\",\n      showHomeBtn: \"showHomeBtn\",\n      onHomeFun: \"onHomeFun\",\n      isClinician: \"isClinician\",\n      title: \"title\",\n      showChangePasswordBtn: \"showChangePasswordBtn\",\n      showLogoutBtn: \"showLogoutBtn\",\n      showLogo: \"showLogo\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 2,\n    vars: 2,\n    consts: [[\"id\", \"logo\", 4, \"ngIf\"], [\"id\", \"header\", 4, \"ngIf\"], [\"id\", \"logo\"], [\"src\", \"./assets/product-flavor/images/header.svg\", 3, \"alt\", \"ngClass\", \"click\"], [\"id\", \"header\"], [1, \"header-left\"], [\"id\", \"back-button\", \"type\", \"button\", \"class\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"change-password-button\", \"type\", \"button\", \"class\", \"button\", 3, \"click\", 4, \"ngIf\"], [1, \"header-center\"], [\"id\", \"header-title\", 3, \"innerHtml\"], [1, \"header-right\"], [\"id\", \"menu-button\", \"type\", \"button\", \"class\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"logout-button\", \"type\", \"button\", \"class\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"back-button\", \"type\", \"button\", 1, \"button\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fal\", \"fa-arrow-left\"], [\"id\", \"change-password-button\", \"type\", \"button\", 1, \"button\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fal\", \"fa-user-lock\"], [\"id\", \"menu-button\", \"type\", \"button\", 1, \"button\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fal\", \"fa-home\"], [\"id\", \"logout-button\", \"type\", \"button\", 1, \"button\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fal\", \"fa-sign-out\"]],\n    template: function HeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, HeaderComponent_div_0_Template, 3, 6, \"div\", 0);\n        i0.ɵɵtemplate(1, HeaderComponent_nav_1_Template, 9, 5, \"nav\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.showLogo);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.showLogo);\n      }\n    },\n    dependencies: [i7.NgClass, i7.NgIf, i2.TranslatePipe]\n  });\n  return HeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}