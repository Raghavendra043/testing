{"ast":null,"code":"import _asyncToGenerator from \"D:/Users/raghavendra/Desktop/ODE/OPTH/New folder/testing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { startOfDay } from 'date-fns';\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let CalendarService = /*#__PURE__*/(() => {\n  class CalendarService {\n    constructor(http) {\n      this.http = http;\n    }\n    list(user) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        var _a;\n        console.debug('Requesting list of events');\n        if (((_a = user === null || user === void 0 ? void 0 : user.links) === null || _a === void 0 ? void 0 : _a.calendar) === undefined) {\n          throw TypeError('User object does not contain a link relation to calendar');\n        }\n        const currentDate = startOfDay(new Date());\n        const calendarUrl = `${user.links.calendar}?from_date=${currentDate.toISOString}`;\n        const {\n          results: events\n        } = yield lastValueFrom(_this.http.get(calendarUrl));\n        return events;\n      })();\n    }\n  }\n  CalendarService.ɵfac = function CalendarService_Factory(t) {\n    return new (t || CalendarService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  CalendarService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CalendarService,\n    factory: CalendarService.ɵfac,\n    providedIn: 'root'\n  });\n  return CalendarService;\n})();","map":null,"metadata":{},"sourceType":"module"}