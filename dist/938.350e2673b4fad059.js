"use strict";(self.webpackChunkopentele_client_html_angular=self.webpackChunkopentele_client_html_angular||[]).push([[938],{2938:(I,f,o)=>{o.r(f),o.d(f,{AcknowledgementsModule:()=>l});var t=o(60),C=o(4466),p=o(4546),v=o(619),u=o(5861),T=o(5439),h=o.n(T),n=o(5e3),k=o(4338),w=o(9808),M=o(520);let L=(()=>{class a{constructor(e){this.http=e}list(e){var c=this;return(0,u.Z)(function*(){var _;if(void 0===(null===(_=null==e?void 0:e.links)||void 0===_?void 0:_.acknowledgements))throw new TypeError("User object does not contain a link relation to acknowledgements");{const d=e.links.acknowledgements;return(yield(0,w.n)(c.http.get(d))).acknowledgements.map(c.toAcknowledgement)}})()}toAcknowledgement(e){return Object.assign(Object.assign({},e),{uploadTimestamp:new Date(e.uploadTimestamp),acknowledgementTimestamp:new Date(e.acknowledgementTimestamp)})}}return a.\u0275fac=function(e){return new(e||a)(n.LFG(M.eN))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var O=o(1786),B=o(8507),D=o(9797);function x(a,r){if(1&a&&(n.TgZ(0,"div",6),n._UZ(1,"i",7),n.TgZ(2,"p"),n._uU(3),n.qZA()()),2&a){const e=r.$implicit;n.xp6(3),n.Oqu(e.message)}}const g=[{path:"",component:(()=>{class a{constructor(e,c,_){this.appContext=e,this.acknowledgements=c,this.translateService=_,this.model={state:"Loading",acknowledgements:[]},this.formatTexts=d=>{const E=h()(d.uploadTimestamp).format("LL"),A=h()(d.uploadTimestamp).format("LT"),N=h()(d.acknowledgementTimestamp).format("LL"),H=h()(d.acknowledgementTimestamp).format("LT");switch(d.type){case"questionnaire":d.message=this.translateService.instant("ACKNOWLEDGEMENTS_COMPLETED_QUESTIONNAIRE").replace("{0}",d.name).replace("{1}",E).replace("{2}",A).replace("{3}",N).replace("{4}",H);break;case"externalMeasurement":d.message=this.translateService.instant("ACKNOWLEDGEMENTS_EXTERNAL_MEASUREMENT").replace("{0}",E).replace("{1}",A).replace("{2}",N).replace("{3}",H)}},this.user=this.appContext.getUser()}ngOnInit(){var e=this;return(0,u.Z)(function*(){try{const c=yield e.acknowledgements.list(e.user);c.map(e.formatTexts),e.model.state="Loaded",e.model.acknowledgements=c}catch(c){e.model.state="Failed",console.error(`Failed to load acknowledgements due to error: ${c}`)}})()}}return a.\u0275fac=function(e){return new(e||a)(n.Y36(k.P),n.Y36(L),n.Y36(O.sK))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-acknowledgements"]],decls:6,vars:8,consts:[[1,"container"],[3,"showBackBtn","title"],[1,"content"],[3,"stateModel","hasNoData","noDataMessage","loadingMessage","failedMessage"],[1,"acknowledgements_list"],["class","acknowledgement_list_item",4,"ngFor","ngForOf"],[1,"acknowledgement_list_item"],["aria-hidden","true",1,"icon","fas","fa-check-circle"]],template:function(e,c){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"header-menu",1),n.TgZ(2,"div",2),n._UZ(3,"loading-state",3),n.TgZ(4,"div",4),n.YNc(5,x,4,1,"div",5),n.qZA()()()),2&e&&(n.xp6(1),n.Q6J("showBackBtn",!0)("title","ACKNOWLEDGEMENTS_TITLE"),n.xp6(2),n.Q6J("stateModel",c.model.state)("hasNoData",0===c.model.acknowledgements.length)("noDataMessage","ACKNOWLEDGEMENTS_NO_ACKNOWLEDGEMENTS")("loadingMessage","ACKNOWLEDGEMENTS_LOADING")("failedMessage","ACKNOWLEDGEMENTS_FAILED"),n.xp6(2),n.Q6J("ngForOf",c.model.acknowledgements))},dependencies:[t.sg,B.G,D.X]}),a})()}];let s=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[v.Bz.forChild(g),v.Bz]}),a})();var m=o(9017);let l=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[t.ez,s,p.O,C.m,m.I]}),a})()},4546:(I,f,o)=>{o.d(f,{O:()=>v});var t=o(60),C=o(4466),p=o(5e3);let v=(()=>{class u{}return u.\u0275fac=function(h){return new(h||u)},u.\u0275mod=p.oAB({type:u}),u.\u0275inj=p.cJS({imports:[t.ez,C.m]}),u})()},8507:(I,f,o)=>{o.d(f,{G:()=>x});var t=o(5e3),C=o(619),p=o(1786),v=o(7362),u=o(4338),T=o(8351),h=o(4879),n=o(60);const k=function(i){return{clickable:i}};function w(i,g){if(1&i){const s=t.EpF();t.TgZ(0,"div",2)(1,"img",3),t.NdJ("click",function(){t.CHM(s);const l=t.oxw();return t.KtG(l.clickLogo())}),t.ALo(2,"translate"),t.qZA()()}if(2&i){const s=t.oxw();t.xp6(1),t.s9C("alt",t.lcZ(2,2,"LOGO_ARIA")),t.Q6J("ngClass",t.VKq(4,k,s.canClickLogo()))}}function M(i,g){if(1&i){const s=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(s);const l=t.oxw(2);return t.KtG(l.goBack())}),t._UZ(1,"i",14),t.qZA()}}function L(i,g){if(1&i){const s=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(s);const l=t.oxw(2);return t.KtG(l.goChangePassword())}),t._UZ(1,"i",16),t.qZA()}}function O(i,g){if(1&i){const s=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(s);const l=t.oxw(2);return t.KtG(l.goHome())}),t._UZ(1,"i",18),t.qZA()}}function B(i,g){if(1&i){const s=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(s);const l=t.oxw(2);return t.KtG(l.goLogout())}),t._UZ(1,"i",20),t.qZA()}}function D(i,g){if(1&i&&(t.TgZ(0,"nav",4)(1,"div",5),t.YNc(2,M,2,0,"button",6),t.YNc(3,L,2,0,"button",7),t.qZA(),t.TgZ(4,"div",8),t._UZ(5,"h1",9),t.qZA(),t.TgZ(6,"div",10),t.YNc(7,O,2,0,"button",11),t.YNc(8,B,2,0,"button",12),t.qZA()()),2&i){const s=t.oxw();t.xp6(2),t.Q6J("ngIf",s.showBackBtn),t.xp6(1),t.Q6J("ngIf",s.showChangePasswordBtn),t.xp6(2),t.Q6J("innerHtml",s.title,t.oJD),t.xp6(2),t.Q6J("ngIf",s.showHomeBtn),t.xp6(1),t.Q6J("ngIf",s.showLogoutBtn)}}let x=(()=>{class i{constructor(s,m,l,a,r,e,c){this.applicationRef=s,this.router=m,this.translate=l,this.native=a,this.appContext=r,this.config=e,this.authentication=c,this.showBackBtn=!1,this.showHomeBtn=!1,this.onHomeFun=()=>this.router.navigate(["/menu"]),this.isClinician=!1,this.title="",this.showChangePasswordBtn=!1,this.showLogoutBtn=!1,this.showLogo=!1,this.goBack=()=>{this.onBackFun?this.onBackFun():globalThis.history.back()},this.goLogout=()=>{const _=this.translate.instant("LOGOUT_CONFIRM_MSG"),d=this.translate.instant("OK"),E=this.translate.instant("CANCEL");this.native.showConfirmDialog(_,d,E,A=>{A&&(this.router.navigate(["/logout"]),setTimeout(()=>this.applicationRef.tick(),100))})},this.goChangePassword=()=>{this.router.navigate(["/change_password"])}}ngOnChanges(){this.title=this.title?this.translate.instant(this.title):""}canClickLogo(){return!!this.helpAndInfoUrl()}helpAndInfoUrl(){return this.config.getAppConfig().helpAndInfoUrl}clickLogo(){const s=this.helpAndInfoUrl();this.canClickLogo()&&void 0!==s&&this.native.openUrl(s)}goHome(){this.onHomeFun?this.onHomeFun():this.router.navigate(["/menu"])}goClinicianMenu(){this.appContext.requestParams.getAndClear("selectedPatient"),this.router.navigate(["/clinician_menu"])}}return i.\u0275fac=function(s){return new(s||i)(t.Y36(t.z2F),t.Y36(C.F0),t.Y36(p.sK),t.Y36(v.R),t.Y36(u.P),t.Y36(T.E),t.Y36(h.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["header-menu"]],inputs:{showBackBtn:"showBackBtn",onBackFun:"onBackFun",showHomeBtn:"showHomeBtn",onHomeFun:"onHomeFun",isClinician:"isClinician",title:"title",showChangePasswordBtn:"showChangePasswordBtn",showLogoutBtn:"showLogoutBtn",showLogo:"showLogo"},features:[t.TTD],decls:2,vars:2,consts:[["id","logo",4,"ngIf"],["id","header",4,"ngIf"],["id","logo"],["src","./assets/product-flavor/images/header.svg",3,"alt","ngClass","click"],["id","header"],[1,"header-left"],["id","back-button","type","button","class","button",3,"click",4,"ngIf"],["id","change-password-button","type","button","class","button",3,"click",4,"ngIf"],[1,"header-center"],["id","header-title",3,"innerHtml"],[1,"header-right"],["id","menu-button","type","button","class","button",3,"click",4,"ngIf"],["id","logout-button","type","button","class","button",3,"click",4,"ngIf"],["id","back-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-arrow-left"],["id","change-password-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-user-lock"],["id","menu-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-home"],["id","logout-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-sign-out"]],template:function(s,m){1&s&&(t.YNc(0,w,3,6,"div",0),t.YNc(1,D,9,5,"nav",1)),2&s&&(t.Q6J("ngIf",m.showLogo),t.xp6(1),t.Q6J("ngIf",!m.showLogo))},dependencies:[n.mk,n.O5,p.X$]}),i})()}}]);