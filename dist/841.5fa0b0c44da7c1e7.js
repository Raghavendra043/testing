"use strict";(self.webpackChunkopentele_client_html_angular=self.webpackChunkopentele_client_html_angular||[]).push([[841],{4546:(A,C,o)=>{o.d(C,{O:()=>h});var t=o(60),m=o(4466),p=o(5e3);let h=(()=>{class r{}return r.\u0275fac=function(v){return new(v||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[t.ez,m.m]}),r})()},8507:(A,C,o)=>{o.d(C,{G:()=>I});var t=o(5e3),m=o(619),p=o(1786),h=o(7362),r=o(4338),n=o(8351),v=o(4879),T=o(60);const L=function(a){return{clickable:a}};function O(a,u){if(1&a){const i=t.EpF();t.TgZ(0,"div",2)(1,"img",3),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.clickLogo())}),t.ALo(2,"translate"),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(1),t.s9C("alt",t.lcZ(2,2,"LOGO_ARIA")),t.Q6J("ngClass",t.VKq(4,L,i.canClickLogo()))}}function E(a,u){if(1&a){const i=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2);return t.KtG(e.goBack())}),t._UZ(1,"i",14),t.qZA()}}function M(a,u){if(1&a){const i=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2);return t.KtG(e.goChangePassword())}),t._UZ(1,"i",16),t.qZA()}}function B(a,u){if(1&a){const i=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2);return t.KtG(e.goHome())}),t._UZ(1,"i",18),t.qZA()}}function x(a,u){if(1&a){const i=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(i);const e=t.oxw(2);return t.KtG(e.goLogout())}),t._UZ(1,"i",20),t.qZA()}}function Z(a,u){if(1&a&&(t.TgZ(0,"nav",4)(1,"div",5),t.YNc(2,E,2,0,"button",6),t.YNc(3,M,2,0,"button",7),t.qZA(),t.TgZ(4,"div",8),t._UZ(5,"h1",9),t.qZA(),t.TgZ(6,"div",10),t.YNc(7,B,2,0,"button",11),t.YNc(8,x,2,0,"button",12),t.qZA()()),2&a){const i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.showBackBtn),t.xp6(1),t.Q6J("ngIf",i.showChangePasswordBtn),t.xp6(2),t.Q6J("innerHtml",i.title,t.oJD),t.xp6(2),t.Q6J("ngIf",i.showHomeBtn),t.xp6(1),t.Q6J("ngIf",i.showLogoutBtn)}}let I=(()=>{class a{constructor(i,l,e,d,s,c,g){this.applicationRef=i,this.router=l,this.translate=e,this.native=d,this.appContext=s,this.config=c,this.authentication=g,this.showBackBtn=!1,this.showHomeBtn=!1,this.onHomeFun=()=>this.router.navigate(["/menu"]),this.isClinician=!1,this.title="",this.showChangePasswordBtn=!1,this.showLogoutBtn=!1,this.showLogo=!1,this.goBack=()=>{this.onBackFun?this.onBackFun():globalThis.history.back()},this.goLogout=()=>{const f=this.translate.instant("LOGOUT_CONFIRM_MSG"),_=this.translate.instant("OK"),H=this.translate.instant("CANCEL");this.native.showConfirmDialog(f,_,H,b=>{b&&(this.router.navigate(["/logout"]),setTimeout(()=>this.applicationRef.tick(),100))})},this.goChangePassword=()=>{this.router.navigate(["/change_password"])}}ngOnChanges(){this.title=this.title?this.translate.instant(this.title):""}canClickLogo(){return!!this.helpAndInfoUrl()}helpAndInfoUrl(){return this.config.getAppConfig().helpAndInfoUrl}clickLogo(){const i=this.helpAndInfoUrl();this.canClickLogo()&&void 0!==i&&this.native.openUrl(i)}goHome(){this.onHomeFun?this.onHomeFun():this.router.navigate(["/menu"])}goClinicianMenu(){this.appContext.requestParams.getAndClear("selectedPatient"),this.router.navigate(["/clinician_menu"])}}return a.\u0275fac=function(i){return new(i||a)(t.Y36(t.z2F),t.Y36(m.F0),t.Y36(p.sK),t.Y36(h.R),t.Y36(r.P),t.Y36(n.E),t.Y36(v.$))},a.\u0275cmp=t.Xpm({type:a,selectors:[["header-menu"]],inputs:{showBackBtn:"showBackBtn",onBackFun:"onBackFun",showHomeBtn:"showHomeBtn",onHomeFun:"onHomeFun",isClinician:"isClinician",title:"title",showChangePasswordBtn:"showChangePasswordBtn",showLogoutBtn:"showLogoutBtn",showLogo:"showLogo"},features:[t.TTD],decls:2,vars:2,consts:[["id","logo",4,"ngIf"],["id","header",4,"ngIf"],["id","logo"],["src","./assets/product-flavor/images/header.svg",3,"alt","ngClass","click"],["id","header"],[1,"header-left"],["id","back-button","type","button","class","button",3,"click",4,"ngIf"],["id","change-password-button","type","button","class","button",3,"click",4,"ngIf"],[1,"header-center"],["id","header-title",3,"innerHtml"],[1,"header-right"],["id","menu-button","type","button","class","button",3,"click",4,"ngIf"],["id","logout-button","type","button","class","button",3,"click",4,"ngIf"],["id","back-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-arrow-left"],["id","change-password-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-user-lock"],["id","menu-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-home"],["id","logout-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-sign-out"]],template:function(i,l){1&i&&(t.YNc(0,O,3,6,"div",0),t.YNc(1,Z,9,5,"nav",1)),2&i&&(t.Q6J("ngIf",l.showLogo),t.xp6(1),t.Q6J("ngIf",!l.showLogo))},dependencies:[T.mk,T.O5,p.X$]}),a})()},1841:(A,C,o)=>{o.r(C),o.d(C,{OidcLoginSuccessModule:()=>l});var t=o(60),m=o(619),p=o(5861),h=o(4815),r=o(9808),n=o(5e3),v=o(4865),T=o(4338),L=o(4879),O=o(8234),E=o(8507),M=o(1786);function B(e,d){if(1&e&&(n.TgZ(0,"div",7),n._UZ(1,"i",8),n.TgZ(2,"span"),n._uU(3),n.ALo(4,"translate"),n.qZA()()),2&e){const s=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,1,s.errorMessage))}}function x(e,d){if(1&e){const s=n.EpF();n.TgZ(0,"input",9),n.NdJ("click",function(){n.CHM(s);const g=n.oxw();return n.KtG(g.goBackToLogin())}),n.ALo(1,"translate"),n.qZA()}2&e&&n.s9C("value",n.lcZ(1,1,"OIDC_LOGIN_FAILED_BUTTON_TEXT"))}const I=[{path:"",component:(()=>{class e{constructor(s,c,g,f,_){this.userSession=s,this.appContext=c,this.authentication=g,this.router=f,this.oidcSecurityService=_,this.errorMessage="",this.enableCreatePinCode=!1,this.root=void 0}goBackToLogin(){var s=this;return(0,p.Z)(function*(){yield s.router.navigate(["/login"])})()}loginCompleted({claims:s,canChangePassword:c,logoutUrl:g,organizations:f}){const _=h.eC.get();this.appContext.requestParams.set("completeLogin",()=>{this.userSession.completeLogin(_,s,c,g,f)}),this.appContext.requestParams.set("root",_),this.router.navigate(["/pincode"],{replaceUrl:!0})}setInitialState(){this.enableCreatePinCode=!1,this.errorMessage=""}ngOnInit(){var s=this;return(0,p.Z)(function*(){let c;if(console.debug("OidcSuccessComponent"),s.setInitialState(),s.appContext.requestParams.set("softLogout",!0),h.ZX.get()?(c=h.ZX.get(),h.ZX.delete()):c=yield(0,r.n)(s.oidcSecurityService.getIdToken()),!c)throw s.errorMessage="OIDC_EXCHANGE_TOKEN_FAILED",Error("Unable to get ID Token");const g=h.eC.get();if(null===g)throw Error("Unable to get root");{s.root=g;const f=s.root.links.oidcAuth;try{const _=yield(0,r.n)(s.authentication.oidcLogin(f,c));s.loginCompleted(_)}catch(_){s.errorMessage="OIDC_EXCHANGE_TOKEN_FAILED",console.error(_)}}})()}}return e.\u0275fac=function(s){return new(s||e)(n.Y36(v.o),n.Y36(T.P),n.Y36(L.$),n.Y36(m.F0),n.Y36(O.J_))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-oidc-login-success"]],decls:7,vars:3,consts:[[1,"container"],[3,"showLogo"],[1,"content","space_between"],["class","notification error",4,"ngIf"],[1,"fill"],["id","input-container"],["id","oidc-retry","type","submit","class","list_item confirm-btn",3,"value","click",4,"ngIf"],[1,"notification","error"],[1,"notification_icon","fas","fa-exclamation-triangle"],["id","oidc-retry","type","submit",1,"list_item","confirm-btn",3,"value","click"]],template:function(s,c){1&s&&(n.TgZ(0,"div",0),n._UZ(1,"header-menu",1),n.TgZ(2,"div",2),n.YNc(3,B,5,3,"div",3),n.TgZ(4,"div",4)(5,"div",5),n.YNc(6,x,2,3,"input",6),n.qZA()()()()),2&s&&(n.xp6(1),n.Q6J("showLogo",!0),n.xp6(2),n.Q6J("ngIf",c.errorMessage),n.xp6(3),n.Q6J("ngIf",c.errorMessage))},dependencies:[t.O5,E.G,M.X$]}),e})()}];let a=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[m.Bz.forChild(I),m.Bz]}),e})();var u=o(4466),i=o(4546);let l=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[t.ez,a,u.m,i.O]}),e})()}}]);