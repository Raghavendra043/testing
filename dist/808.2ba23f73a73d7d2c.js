"use strict";(self.webpackChunkopentele_client_html_angular=self.webpackChunkopentele_client_html_angular||[]).push([[808],{4808:(H,C,s)=>{s.r(C),s.d(C,{CategoryLinksModule:()=>U});var e=s(60),m=s(619),t=s(5e3),k=s(4338),h=s(7362),v=s(8507),L=s(1786);function T(n,c){1&n&&(t.TgZ(0,"div",6),t._UZ(1,"i",7),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"CATEGORY_LINKS_NO_CATEGORY_LINKS")))}const y=function(n){return{"marked-button":n}};function A(n,c){if(1&n){const o=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(){const f=t.CHM(o).index,l=t.oxw();return t.KtG(l.showPopup(f))}),t.TgZ(1,"span",9),t._uU(2),t.qZA(),t._UZ(3,"i",10),t.qZA()}if(2&n){const o=c.$implicit;t.Q6J("ngClass",t.VKq(5,y,o.marked)),t.xp6(2),t.Oqu(o.title),t.xp6(1),t.Gre("icon ",o.icon,"")}}function Z(n,c){if(1&n){const o=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"h3"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",13)(9,"button",14),t.NdJ("click",function(){t.CHM(o);const g=t.oxw();return t.KtG(g.hidePopup())}),t._uU(10),t.ALo(11,"translate"),t._UZ(12,"i",15),t.qZA(),t.TgZ(13,"button",16),t.NdJ("click",function(){t.CHM(o);const g=t.oxw();return t.KtG(g.showLink())}),t._uU(14),t.ALo(15,"translate"),t._UZ(16,"i",17),t.qZA()()()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"CATEGORY_LINKS_PLEASE_NOTE_TITLE")),t.xp6(3),t.Oqu(t.lcZ(7,6,"CATEGORY_LINKS_PLEASE_NOTE_TEXT")),t.xp6(4),t.hij(" ",t.lcZ(11,8,"CATEGORY_LINKS_BACK_BUTTON")," "),t.xp6(4),t.hij(" ",t.lcZ(15,10,"CATEGORY_LINKS_CONTINUE_BUTTON")," "))}let B=(()=>{class n{constructor(o,a,g){if(this.appContext=o,this.router=a,this.native=g,this.model=void 0,this.showPopup=l=>{this.model.showPopup=!0,this.model.currentLink=this.model.resources[l].url},this.hidePopup=()=>{this.model.showPopup=!1,this.model.currentLink=void 0},this.showLink=()=>{this.native.openUrl(this.model.currentLink),this.hidePopup()},this.initModel=l=>{const x={name:l.name,resources:l.resources};return x.resources.forEach(p=>{p.icon=p.url.endsWith(".pdf")?"far fa-file-pdf":p.url.endsWith(".png")||p.url.endsWith(".jpeg")||p.url.endsWith(".jpg")?"far fa-image":p.url.toLowerCase().indexOf("youtube.com")>0?"far fa-camera-movie":"far fa-external-link-alt"}),x},!this.appContext.requestParams.containsKey("selectedCategory"))return void this.router.navigate(["/menu"]);const f=this.appContext.requestParams.getAndClear("selectedCategory");this.model=this.initModel(f),this.model.hasOtherCategories=this.appContext.requestParams.get("hasOtherCategories")}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(k.P),t.Y36(m.F0),t.Y36(h.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-links"]],decls:6,vars:6,consts:[[1,"container"],[3,"showBackBtn","title","showHomeBtn"],["class","notification info",4,"ngIf"],[1,"content"],["class","list_item normal_list_item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","light-box-dimmer",4,"ngIf"],[1,"notification","info"],[1,"notification_icon","fas","fa-info-circle"],[1,"list_item","normal_list_item",3,"ngClass","click"],[1,"before-icon"],["aria-hidden","true"],[1,"light-box-dimmer"],["id","light-box",1,"light-box"],["id","action-buttons",1,"flex-column"],[1,"footer-button","left-button",3,"click"],["aria-hidden","true",1,"icon","fas","fa-times-circle"],[1,"footer-button","right-button",3,"click"],["aria-hidden","true",1,"icon","fas","fa-check-circle"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"header-menu",1),t.YNc(2,T,5,3,"div",2),t.TgZ(3,"nav",3),t.YNc(4,A,4,7,"a",4),t.qZA(),t.YNc(5,Z,17,12,"div",5),t.qZA()),2&o&&(t.xp6(1),t.Q6J("showBackBtn",!0)("title",a.model.name)("showHomeBtn",a.model.hasOtherCategories),t.xp6(1),t.Q6J("ngIf",!(a.model.resources.length>0)),t.xp6(2),t.Q6J("ngForOf",a.model.resources),t.xp6(1),t.Q6J("ngIf",a.model.showPopup))},dependencies:[e.mk,e.sg,e.O5,v.G,L.X$]}),n})();var E=s(9808),I=s(520);let w=(()=>{class n{constructor(o){this.http=o,this.list=a=>{if(!a.hasOwnProperty("links")||!a.links.hasOwnProperty("linksCategories"))throw new TypeError("User object does not contain a link relation to my links categories");return(0,E.n)(this.http.get(a.links.linksCategories))},this.get=a=>{if(!a.hasOwnProperty("links")||!a.links.hasOwnProperty("linksCategory"))throw new TypeError("Links category ref does not contain a link relation to category links");return(0,E.n)(this.http.get(a.links.linksCategory))}}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(I.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=s(9797);const r=function(n){return{"marked-button":n}};function d(n,c){if(1&n){const o=t.EpF();t.TgZ(0,"a",5),t.NdJ("click",function(){const f=t.CHM(o).index,l=t.oxw();return t.KtG(l.showCategory(f))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&n){const o=c.$implicit;t.Q6J("ngClass",t.VKq(2,r,o.marked)),t.xp6(2),t.Oqu(o.name)}}const _=[{path:"",component:(()=>{class n{constructor(o,a,g){this.appContext=o,this.router=a,this.linksCategories=g,this.model={categories:[],state:"Loading"},this.showCategory=l=>{this.appContext.requestParams.set("selectedCategory",this.model.categories[l]),this.appContext.requestParams.set("hasOtherCategories",this.model.categories.length>1),1===this.model.categories.length?this.router.navigate(["links_categories/"+l+"/category_links"],{replaceUrl:!0}):this.router.navigate(["links_categories/"+l+"/category_links"])},this.onError=l=>{this.model.state="Failed",console.error(`Failed to load links categories due to error: ${l}`)},this.onSuccess=l=>{this.model.categories=l.results,this.model.state="Loaded",1===this.model.categories.length&&this.showCategory(0)};const f=this.appContext.getUser();f?this.linksCategories.list(f).then(this.onSuccess).catch(this.onError):console.debug("Unable to get current user")}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(k.P),t.Y36(m.F0),t.Y36(w))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-links-categories"]],decls:5,vars:8,consts:[[1,"container"],[3,"showBackBtn","title"],[3,"stateModel","hasNoData","noDataMessage","loadingMessage","failedMessage"],[1,"content"],["class","list_item normal_list_item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list_item","normal_list_item",3,"ngClass","click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"header-menu",1)(2,"loading-state",2),t.TgZ(3,"nav",3),t.YNc(4,d,3,4,"a",4),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("showBackBtn",!0)("title","LINKS_TITLE"),t.xp6(1),t.Q6J("stateModel",a.model.state)("hasNoData",0==(null==a.model.categories?null:a.model.categories.length))("noDataMessage","LINKS_CATEGORIES_NO_LINKS_CATEGORIES")("loadingMessage","LINKS_CATEGORIES_LOADING")("failedMessage","LINKS_CATEGORIES_FAILED"),t.xp6(2),t.Q6J("ngForOf",a.model.categories))},dependencies:[e.mk,e.sg,v.G,M.X]}),n})()},{path:":id/category_links",component:B}];let u=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(_),m.Bz]}),n})();var P=s(4546),b=s(4466),N=s(9017);let U=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[e.ez,u,P.O,b.m,N.I]}),n})()},4546:(H,C,s)=>{s.d(C,{O:()=>k});var e=s(60),m=s(4466),t=s(5e3);let k=(()=>{class h{}return h.\u0275fac=function(L){return new(L||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[e.ez,m.m]}),h})()},8507:(H,C,s)=>{s.d(C,{G:()=>M});var e=s(5e3),m=s(619),t=s(1786),k=s(7362),h=s(4338),v=s(8351),L=s(4879),T=s(60);const y=function(r){return{clickable:r}};function A(r,d){if(1&r){const i=e.EpF();e.TgZ(0,"div",2)(1,"img",3),e.NdJ("click",function(){e.CHM(i);const u=e.oxw();return e.KtG(u.clickLogo())}),e.ALo(2,"translate"),e.qZA()()}if(2&r){const i=e.oxw();e.xp6(1),e.s9C("alt",e.lcZ(2,2,"LOGO_ARIA")),e.Q6J("ngClass",e.VKq(4,y,i.canClickLogo()))}}function Z(r,d){if(1&r){const i=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.goBack())}),e._UZ(1,"i",14),e.qZA()}}function B(r,d){if(1&r){const i=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.goChangePassword())}),e._UZ(1,"i",16),e.qZA()}}function E(r,d){if(1&r){const i=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.goHome())}),e._UZ(1,"i",18),e.qZA()}}function I(r,d){if(1&r){const i=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.goLogout())}),e._UZ(1,"i",20),e.qZA()}}function w(r,d){if(1&r&&(e.TgZ(0,"nav",4)(1,"div",5),e.YNc(2,Z,2,0,"button",6),e.YNc(3,B,2,0,"button",7),e.qZA(),e.TgZ(4,"div",8),e._UZ(5,"h1",9),e.qZA(),e.TgZ(6,"div",10),e.YNc(7,E,2,0,"button",11),e.YNc(8,I,2,0,"button",12),e.qZA()()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("ngIf",i.showBackBtn),e.xp6(1),e.Q6J("ngIf",i.showChangePasswordBtn),e.xp6(2),e.Q6J("innerHtml",i.title,e.oJD),e.xp6(2),e.Q6J("ngIf",i.showHomeBtn),e.xp6(1),e.Q6J("ngIf",i.showLogoutBtn)}}let M=(()=>{class r{constructor(i,_,u,P,b,N,U){this.applicationRef=i,this.router=_,this.translate=u,this.native=P,this.appContext=b,this.config=N,this.authentication=U,this.showBackBtn=!1,this.showHomeBtn=!1,this.onHomeFun=()=>this.router.navigate(["/menu"]),this.isClinician=!1,this.title="",this.showChangePasswordBtn=!1,this.showLogoutBtn=!1,this.showLogo=!1,this.goBack=()=>{this.onBackFun?this.onBackFun():globalThis.history.back()},this.goLogout=()=>{const n=this.translate.instant("LOGOUT_CONFIRM_MSG"),c=this.translate.instant("OK"),o=this.translate.instant("CANCEL");this.native.showConfirmDialog(n,c,o,a=>{a&&(this.router.navigate(["/logout"]),setTimeout(()=>this.applicationRef.tick(),100))})},this.goChangePassword=()=>{this.router.navigate(["/change_password"])}}ngOnChanges(){this.title=this.title?this.translate.instant(this.title):""}canClickLogo(){return!!this.helpAndInfoUrl()}helpAndInfoUrl(){return this.config.getAppConfig().helpAndInfoUrl}clickLogo(){const i=this.helpAndInfoUrl();this.canClickLogo()&&void 0!==i&&this.native.openUrl(i)}goHome(){this.onHomeFun?this.onHomeFun():this.router.navigate(["/menu"])}goClinicianMenu(){this.appContext.requestParams.getAndClear("selectedPatient"),this.router.navigate(["/clinician_menu"])}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(e.z2F),e.Y36(m.F0),e.Y36(t.sK),e.Y36(k.R),e.Y36(h.P),e.Y36(v.E),e.Y36(L.$))},r.\u0275cmp=e.Xpm({type:r,selectors:[["header-menu"]],inputs:{showBackBtn:"showBackBtn",onBackFun:"onBackFun",showHomeBtn:"showHomeBtn",onHomeFun:"onHomeFun",isClinician:"isClinician",title:"title",showChangePasswordBtn:"showChangePasswordBtn",showLogoutBtn:"showLogoutBtn",showLogo:"showLogo"},features:[e.TTD],decls:2,vars:2,consts:[["id","logo",4,"ngIf"],["id","header",4,"ngIf"],["id","logo"],["src","./assets/product-flavor/images/header.svg",3,"alt","ngClass","click"],["id","header"],[1,"header-left"],["id","back-button","type","button","class","button",3,"click",4,"ngIf"],["id","change-password-button","type","button","class","button",3,"click",4,"ngIf"],[1,"header-center"],["id","header-title",3,"innerHtml"],[1,"header-right"],["id","menu-button","type","button","class","button",3,"click",4,"ngIf"],["id","logout-button","type","button","class","button",3,"click",4,"ngIf"],["id","back-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-arrow-left"],["id","change-password-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-user-lock"],["id","menu-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-home"],["id","logout-button","type","button",1,"button",3,"click"],["aria-hidden","true",1,"fal","fa-sign-out"]],template:function(i,_){1&i&&(e.YNc(0,A,3,6,"div",0),e.YNc(1,w,9,5,"nav",1)),2&i&&(e.Q6J("ngIf",_.showLogo),e.xp6(1),e.Q6J("ngIf",!_.showLogo))},dependencies:[T.mk,T.O5,t.X$]}),r})()}}]);